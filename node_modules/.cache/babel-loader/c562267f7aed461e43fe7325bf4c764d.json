{"ast":null,"code":"import _toConsumableArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState,useContext}from\"react\";import projimg from\"../../../../images/proj.jpg\";import Button from'@material-ui/core/Button';import Skeleton from'@material-ui/lab/Skeleton';import AddIcon from'@material-ui/icons/Add';import HighlightOffIcon from'@material-ui/icons/HighlightOff';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import{APIURL,APIPath}from\"../../../../CommonMethods/Fetch\";import{postRecord}from\"../../../../CommonMethods/Save\";import{AuthContext}from\"../../../../CommonMethods/Authentication\";import{makeStyles}from'@material-ui/core/styles';import Accordion from'@material-ui/core/Accordion';import AccordionSummary from'@material-ui/core/AccordionSummary';import AccordionDetails from'@material-ui/core/AccordionDetails';import Typography from'@material-ui/core/Typography';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APIGetMiscPackages=APIURL()+\"get-miscellaneous\";function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));}export default function MiscPackages(props){var setMiscPackageTab=props.setMiscPackageTab,setSecondPackageTab=props.setSecondPackageTab,setReviewTab=props.setReviewTab;var context=useContext(AuthContext);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allData=_useState2[0],setAllData=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem(\"Misc_Package\"))===null?[]:JSON.parse(localStorage.getItem(\"Misc_Package\"))),_useState4=_slicedToArray(_useState3,2),miscPackages=_useState4[0],setMiscPackages=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openError=_useState6[0],setOpenError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openWarning=_useState8[0],setOpenWarning=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];useEffect(function(){window.scrollTo(0,400);},[]);useEffect(function(){var obj={authenticate_key:\"abcd123XYZ\"};postRecord(APIGetMiscPackages,obj).then(function(res){if(res.data[0].response.status===\"success\"){setAllData(res.data[0].response.data.miscellaneous);}});},[]);var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpenWarning(false);setOpenError(false);};useEffect(function(){},[]);var addMiscPackages=function addMiscPackages(id){setMiscPackages(function(prevArray){return[].concat(_toConsumableArray(prevArray),[id]);});};var removeMiscPackages=function removeMiscPackages(id){var index=arrayRemove(miscPackages,id);setMiscPackages(index);};function arrayRemove(arr,value){return arr.filter(function(geeks){return geeks!=value;});}var checkId=function checkId(id){var filter_data=miscPackages.filter(function(res){return res===id;});if(filter_data.length>0){return true;}else{return false;}};// const saveMiscPackage = () => {\n//     if (miscPackages.length === 0) {\n//         setMessage(\"Please select any package\");\n//         setOpenError(true);\n//     }\n//     else {\n//         localStorage.setItem(\"Misc_Package\", JSON.stringify(miscPackages));\n//         setMiscPackageTab(false);\n//         setReviewTab(true)\n//     }\n// }\nvar saveMiscPackage=function saveMiscPackage(){localStorage.setItem(\"Misc_Package\",JSON.stringify(miscPackages));setMiscPackageTab(false);setReviewTab(true);};return/*#__PURE__*/_jsxs(\"div\",{class:\"appointment_page_right\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Packages\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"step_progress\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Step 2/4\"}),/*#__PURE__*/_jsx(\"div\",{class:\"progress\",style:{height:\"20px\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"progress-bar\",role:\"progressbar\",style:{width:\"50%\"},\"aria-valuenow\":\"50\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"Order_cont\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"package_sec\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12 appointment-steps\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Miscellaneous/Add-On Options\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"package-box-appointment\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:Object.keys(allData).length>0?allData.miscellaneous_details.map(function(sd){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-description\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-appointment1\",children:[/*#__PURE__*/_jsxs(\"span\",{class:\"pricetag\",children:[\" $ \",sd.price]}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"200px\",width:\"100%\",objectFit:\"cover\"},src:sd.image}),/*#__PURE__*/_jsx(\"h4\",{children:sd.title})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-appointment1-content\",children:[/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:sd.description}}),checkId(sd.id)===true?/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\",cursor:\"pointer\"},variant:\"contained\",color:\"secondary\",endIcon:/*#__PURE__*/_jsx(HighlightOffIcon,{}),onClick:function onClick(){removeMiscPackages(sd.id);},children:\"Remove\"}):/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\",cursor:\"pointer\"},variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:function onClick(){addMiscPackages(sd.id);},children:\"Add\"})]})]})});}):/*#__PURE__*/_jsxs(\"div\",{class:\"\",children:[/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:200,height:250,style:{background:\"#bbbbbb\",width:\"100%\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:400,height:50,style:{background:\"#bbbbbb\",marginTop:\"-34px\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:600,height:25,style:{background:\"#bbbbbb\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:160,height:80,style:{background:\"#bbbbbb\"}})]})})})]})})}),/*#__PURE__*/_jsx(\"hr\",{class:\"spacer50px\"}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-6 col-md-6 mx-auto\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#\",onClick:function onClick(){setSecondPackageTab(true);setMiscPackageTab(false);},class:\"let_start\",style:{margin:\"0 20px 0 0\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"20px\",marginLeft:\"0\"},class:\"fas fa-arrow-left\"}),\"Back \"]}),/*#__PURE__*/_jsxs(\"a\",{class:\"let_start_new\",style:{cursor:\"pointer\"},onClick:function onClick(){saveMiscPackage();//setSecondPackageTab(false);\n//setSecondPackageTab(true);\n},children:[\"Next \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-arrow-right\"})]})]})})]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openWarning,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"warning\",children:message})}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openError,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",children:message})})]});}","map":{"version":3,"sources":["C:/Users/user/Desktop/Uma/vtc/src/views/Home/sections/Appointment/MiscPackages.js"],"names":["React","useEffect","useState","useContext","projimg","Button","Skeleton","AddIcon","HighlightOffIcon","Snackbar","MuiAlert","APIURL","APIPath","postRecord","AuthContext","makeStyles","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","APIGetMiscPackages","Alert","props","MiscPackages","setMiscPackageTab","setSecondPackageTab","setReviewTab","context","allData","setAllData","JSON","parse","localStorage","getItem","miscPackages","setMiscPackages","openError","setOpenError","openWarning","setOpenWarning","message","setMessage","window","scrollTo","obj","authenticate_key","then","res","data","response","status","miscellaneous","handleClose","event","reason","addMiscPackages","id","prevArray","removeMiscPackages","index","arrayRemove","arr","value","filter","geeks","checkId","filter_data","length","saveMiscPackage","setItem","stringify","height","width","Object","keys","miscellaneous_details","map","sd","price","objectFit","image","title","__html","description","marginTop","cursor","background","margin","marginRight","marginLeft","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport projimg from \"../../../../images/proj.jpg\";\nimport Button from '@material-ui/core/Button';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { APIURL, APIPath } from \"../../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../../CommonMethods/Save\";\nimport { AuthContext } from \"../../../../CommonMethods/Authentication\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst APIGetMiscPackages = APIURL() + \"get-miscellaneous\";\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\nexport default function MiscPackages(props) {\n    const { setMiscPackageTab, setSecondPackageTab, setReviewTab } = props;\n    const context = useContext(AuthContext);\n    const [allData, setAllData] = useState({});\n    const [miscPackages, setMiscPackages] = useState(JSON.parse(localStorage.getItem(\"Misc_Package\")) === null ? [] : JSON.parse(localStorage.getItem(\"Misc_Package\")));\n    const [openError, setOpenError] = useState(false);\n    const [openWarning, setOpenWarning] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    useEffect(() => {\n        window.scrollTo(0, 400);\n    }, []);\n    useEffect(() => {\n        const obj = { authenticate_key: \"abcd123XYZ\" };\n        postRecord(APIGetMiscPackages, obj)\n            .then(res => {\n                if (res.data[0].response.status === \"success\") {\n                    setAllData(res.data[0].response.data.miscellaneous);\n                }\n            });\n    }, []);\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenWarning(false);\n        setOpenError(false);\n    };\n  \n    useEffect(() => {\n        \n    }, []);\n\n    const addMiscPackages = (id) => {\n        setMiscPackages(prevArray => [...prevArray, id]);\n    }\n    const removeMiscPackages = (id) => {\n        const index = arrayRemove(miscPackages, id);\n        setMiscPackages(index);\n    }\n    function arrayRemove(arr, value) {\n        return arr.filter(function (geeks) {\n            return geeks != value;\n        });\n    }\n    const checkId = (id) => {\n        var filter_data = miscPackages.filter(res => {\n            return res === id;\n        });\n        if (filter_data.length > 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    // const saveMiscPackage = () => {\n    //     if (miscPackages.length === 0) {\n    //         setMessage(\"Please select any package\");\n    //         setOpenError(true);\n    //     }\n    //     else {\n    //         localStorage.setItem(\"Misc_Package\", JSON.stringify(miscPackages));\n    //         setMiscPackageTab(false);\n    //         setReviewTab(true)\n    //     }\n    // }\n    const saveMiscPackage = () => {\n        localStorage.setItem(\"Misc_Package\", JSON.stringify(miscPackages));\n        setMiscPackageTab(false);\n        setReviewTab(true)\n    }\n    return (\n        <div class=\"appointment_page_right\">\n            <div class=\"row\">\n                <div class=\"col-md-12\">\n                    <h3>Packages</h3>\n                    <div class=\"step_progress\">\n                        <span>Step 2/4</span>\n                        <div class=\"progress\" style={{ height: \"20px\" }}>\n                            <div class=\"progress-bar\" role=\"progressbar\" style={{ width: \"50%\" }} aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"Order_cont\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-md-12\">\n                        <div class=\"package_sec\">\n                            <div class=\"col-md-12 appointment-steps\">\n                                <h4>Miscellaneous/Add-On Options</h4>\n                            </div>\n                            <div class=\"package-box-appointment\">\n                                <div class=\"row\">\n                                    {Object.keys(allData).length > 0 ? (\n                                        allData.miscellaneous_details.map(sd => (\n                                            <div class=\"col-md-6\">\n                                                <div class=\"package-box-description\">\n                                                    <div class=\"package-box-appointment1\">\n                                                        <span class=\"pricetag\"> $ {sd.price}</span>\n                                                        <img style={{ height: \"200px\",width:\"100%\", objectFit: \"cover\" }} src={sd.image} />\n                                                        <h4>{sd.title}</h4>\n                                                    </div>\n                                                    <div class=\"package-box-appointment1-content\">\n                                                        <div\n                                                            dangerouslySetInnerHTML={{\n                                                                __html:\n                                                                    sd.description\n                                                            }}\n                                                        >\n                                                        </div>\n\n                                                        {checkId(sd.id) === true ? (\n                                                            <Button\n                                                                style={{ marginTop: \"20px\", cursor: \"pointer\" }}\n                                                                variant=\"contained\"\n                                                                color=\"secondary\"\n                                                                endIcon={<HighlightOffIcon />}\n                                                                onClick={() => {\n                                                                    removeMiscPackages(sd.id);\n                                                                }}\n                                                            >\n                                                                Remove\n                                                            </Button>\n                                                        ) : (\n                                                            <Button\n                                                                style={{ marginTop: \"20px\", cursor: \"pointer\" }}\n                                                                variant=\"contained\"\n                                                                color=\"primary\"\n                                                                endIcon={<AddIcon />}\n                                                                onClick={() => {\n                                                                    addMiscPackages(sd.id);\n                                                                }}\n                                                            >\n                                                                Add\n                                                            </Button>\n                                                        )}\n                                                    </div>\n\n                                                </div>\n                                            </div>\n                                        ))\n                                    ) : (\n                                        <div class=\"\">\n                                            <Skeleton variant=\"text\" width={200} height={250} style={{ background: \"#bbbbbb\", width: \"100%\" }} />\n                                            <Skeleton variant=\"text\" width={400} height={50} style={{ background: \"#bbbbbb\", marginTop: \"-34px\" }} />\n                                            <Skeleton variant=\"text\" width={600} height={25} style={{ background: \"#bbbbbb\" }} />\n                                            <Skeleton variant=\"text\" width={160} height={80} style={{ background: \"#bbbbbb\" }} />\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <hr class=\"spacer50px\" />\n                <div class=\"row\">\n                    <div class=\"col-lg-6 col-md-6 mx-auto\">\n                        <a href=\"#\" onClick={() => {\n                            setSecondPackageTab(true);\n                            setMiscPackageTab(false);\n                        }} class=\"let_start\" style={{ margin: \"0 20px 0 0\" }}><i style={{ marginRight: \"20px\", marginLeft: \"0\" }} class=\"fas fa-arrow-left\"></i>Back </a>\n                        <a class=\"let_start_new\" style={{ cursor: \"pointer\" }} onClick={() => {\n                            saveMiscPackage();\n                            //setSecondPackageTab(false);\n                            //setSecondPackageTab(true);\n                        }}>Next <i class=\"fas fa-arrow-right\"></i></a>\n                    </div>\n                </div>\n            </div>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openWarning} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"warning\">\n                    {message}\n                </Alert>\n            </Snackbar>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openError} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"error\">\n                    {message}\n                </Alert>\n            </Snackbar>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}