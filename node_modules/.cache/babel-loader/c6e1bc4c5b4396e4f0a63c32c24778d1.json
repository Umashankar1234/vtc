{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import $ from\"jquery\";import ReactPaginate from'react-paginate';import{Link,useHistory}from\"react-router-dom\";import banner from\"../../../images/vtc-banner.jpg\";import Footer from\"../../../components/Footer/AgentFooter\";import AgentHeader from\"../Header/AgentHeader\";import{AuthContext}from\"../../../CommonMethods/Authentication\";import{APIURL,APIPath}from\"../../../CommonMethods/Fetch\";import{postRecord}from\"../../../CommonMethods/Save\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APIGetUserData=APIURL()+\"user-details\";var APIGetOrderList=APIURL()+\"orders-list\";export default function AgentOrderList(props){var history=useHistory();var context=useContext(AuthContext);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allOrders=_useState4[0],setAllOrders=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,1),postPerPage=_useState6[0];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pageCount=_useState8[0],setPageCount=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),offset=_useState10[0],setOffset=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),allData=_useState12[0],setAllData=_useState12[1];useEffect(function(){$(\".gee_cross\").hide();$(\".gee_menu\").hide();},[]);var ShowMenu=function ShowMenu(){$(\".gee_menu\").slideToggle(\"slow\",function(){$(\".gee_hamburger\").hide();$(\".gee_cross\").show();});};var HideMenu=function HideMenu(){$(\".gee_menu\").slideToggle(\"slow\",function(){$(\".gee_cross\").hide();$(\".gee_hamburger\").show();});};useEffect(function(){if(context.state.user){var objusr={authenticate_key:\"abcd123XYZ\",agent_id:JSON.parse(context.state.user).agentId};postRecord(APIGetUserData,objusr).then(function(res){if(res.data[0].response.status===\"success\"){setCurrentUser(res.data[0].response.data.agent_profile);}});}},[context.state.user]);useEffect(function(){if(context.state.user){var objusr={authenticate_key:\"abcd123XYZ\",agent_id:JSON.parse(context.state.user).agentId};postRecord(APIGetOrderList,objusr).then(function(res){if(res.data[0].response.status===\"success\"){setAllOrders(res.data[0].response.data);}});}},[context.state.user]);var handleDetails=function handleDetails(id){history.push(APIPath()+\"order-details/\"+id);};useEffect(function(){if(allOrders.length>0){filterData();}},[offset,allOrders]);var filterData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var endOffset;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:endOffset=offset+postPerPage;setAllData(allOrders.slice(offset,endOffset));setPageCount(Math.ceil(allOrders.length/postPerPage));// const slice = imagesetList.slice(offset - 1, offset - 1 + 6);\n// setTotalData(slice);\n// setAllData(slice);\n// setPageCount(Math.ceil(imagesetList.length / postPerPage));\ncase 3:case\"end\":return _context.stop();}}},_callee);}));return function filterData(){return _ref.apply(this,arguments);};}();var handlePageClick=function handlePageClick(event){// setOffset(selectedPage + 6);\nvar newOffset=event.selected*postPerPage%allOrders.length;setOffset(newOffset);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AgentHeader,{path:props.location.pathname}),/*#__PURE__*/_jsxs(\"section\",{class:\"vtc_agent_banner\",style:{backgroundImage:\"url(\"+banner+\")\"},children:[/*#__PURE__*/_jsx(\"div\",{class:\"vtc_top_menu\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-12 col-md-12\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"vtc_agent_menu_top\",children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-dashboard\",children:\"My Cafe\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-image-sets\",children:\"Image Sets\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-tour-list\",children:\"Tours\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-flyer\",children:\"Flyers\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-video-list\",children:\"Videos\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-setting\",children:\"Settings\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-preferred-vendor\",children:\"Preferred Vendors\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.xpressdocs.com/next/index.php?uuid=458143677bda0010f37b603828f3b783\",children:\"Xpressdocs\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-support\",children:\"Support\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"gee_mobile\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ShowMenu();},class:\"gee_hamburger\",children:\"\\u2630\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return HideMenu();},class:\"gee_cross\",children:\"\\u02DF\"})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"gee_menu\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-dashboard\",children:\"My Cafe\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-image-sets\",children:\"Image Sets\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-tour-list\",children:\"Tours\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"\",children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-flyer\",children:\"Flyers\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-video-list\",children:\"Videos\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-setting\",children:\"Settings\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-preferred-vendor\",children:\"Preferred Vendors\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.xpressdocs.com/next/index.php?uuid=458143677bda0010f37b603828f3b783\",children:\"Xpressdocs\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:APIPath()+\"agent-support\",children:\"Support\"})})]})})]})})})}),/*#__PURE__*/_jsx(\"div\",{class:\"banner-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order List\"})})]}),/*#__PURE__*/_jsx(\"section\",{class:\"vtc_agent_profile\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{class:\"vtc_agent_profile_main\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Order No\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Transaction Id\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Reference Id\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Payment Status\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Payment Date\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allData.length>0?allData.map(function(res){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.order_no}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.transaction_id}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.refid}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.payment_status}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.amount}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:res.payment_date}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{style:{marginRight:\"20px\"},onClick:function onClick(){return handleDetails(res.id);},class:\"btn btn-warning\",title:\"View Details\",children:\"View Details\"})})]});}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",children:\"No Orders Found ..\"})})})]})})})}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"«\",nextLabel:\"»\",breakLabel:\"...\",pageCount:pageCount,marginPagesDisplayed:3,ageRangeDisplayed:3,onPageChange:handlePageClick,containerClassName:\"pagination justify-content-center\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",breakClassName:\"page-item\",breakLinkClassName:\"page-link\",activeClassName:\"active\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["C:/Users/user/Desktop/Uma/vtc/src/views/Dashboard/Agent/AgentOrderList.js"],"names":["React","useState","useEffect","useContext","$","ReactPaginate","Link","useHistory","banner","Footer","AgentHeader","AuthContext","APIURL","APIPath","postRecord","APIGetUserData","APIGetOrderList","AgentOrderList","props","history","context","currentUser","setCurrentUser","allOrders","setAllOrders","postPerPage","pageCount","setPageCount","offset","setOffset","allData","setAllData","hide","ShowMenu","slideToggle","show","HideMenu","state","user","objusr","authenticate_key","agent_id","JSON","parse","agentId","then","res","data","response","status","agent_profile","handleDetails","id","push","length","filterData","endOffset","slice","Math","ceil","handlePageClick","event","newOffset","selected","location","pathname","backgroundImage","textAlign","map","order_no","transaction_id","refid","payment_status","amount","payment_date","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport $ from \"jquery\";\nimport ReactPaginate from 'react-paginate';\nimport { Link, useHistory } from \"react-router-dom\";\nimport banner from \"../../../images/vtc-banner.jpg\";\nimport Footer from \"../../../components/Footer/AgentFooter\";\nimport AgentHeader from \"../Header/AgentHeader\";\nimport { AuthContext } from \"../../../CommonMethods/Authentication\";\nimport { APIURL, APIPath } from \"../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../CommonMethods/Save\";\nconst APIGetUserData = APIURL() + \"user-details\";\nconst APIGetOrderList = APIURL() + \"orders-list\";\nexport default function AgentOrderList(props) {\n  let history = useHistory();\n  const context = useContext(AuthContext);\n  const [currentUser, setCurrentUser] = useState({});\n  const [allOrders, setAllOrders] = useState([]);\n  const [postPerPage] = useState(10);\n  const [pageCount, setPageCount] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [allData, setAllData] = useState([]);\n  useEffect(() => {\n    $(\".gee_cross\").hide();\n    $(\".gee_menu\").hide();\n  }, []);\n  const ShowMenu = () => {\n    $(\".gee_menu\").slideToggle(\"slow\", function () {\n      $(\".gee_hamburger\").hide();\n      $(\".gee_cross\").show();\n    });\n  }\n  const HideMenu = () => {\n    $(\".gee_menu\").slideToggle(\"slow\", function () {\n      $(\".gee_cross\").hide();\n      $(\".gee_hamburger\").show();\n    });\n  }\n  useEffect(() => {\n    if (context.state.user) {\n      const objusr = { authenticate_key: \"abcd123XYZ\", agent_id: JSON.parse(context.state.user).agentId };\n      postRecord(APIGetUserData, objusr)\n        .then(res => {\n          if (res.data[0].response.status === \"success\") {\n            setCurrentUser(res.data[0].response.data.agent_profile);\n          }\n        });\n    }\n  }, [context.state.user]);\n  useEffect(() => {\n    if (context.state.user) {\n      const objusr = { authenticate_key: \"abcd123XYZ\", agent_id: JSON.parse(context.state.user).agentId };\n      postRecord(APIGetOrderList, objusr)\n        .then(res => {\n          if (res.data[0].response.status === \"success\") {\n            setAllOrders(res.data[0].response.data);\n          }\n        });\n    }\n  }, [context.state.user]);\n  const handleDetails = (id) => {\n    history.push(APIPath() + \"order-details/\" + id);\n  }\n  useEffect(() => {\n    if (allOrders.length > 0) {\n      filterData();\n    }\n  }, [offset, allOrders]);\n  const filterData = async () => {\n    const endOffset = offset + postPerPage;\n    setAllData(allOrders.slice(offset, endOffset));\n    setPageCount(Math.ceil(allOrders.length / postPerPage));\n    // const slice = imagesetList.slice(offset - 1, offset - 1 + 6);\n    // setTotalData(slice);\n    // setAllData(slice);\n    // setPageCount(Math.ceil(imagesetList.length / postPerPage));\n  }\n  const handlePageClick = (event) => {\n    // setOffset(selectedPage + 6);\n    const newOffset = (event.selected * postPerPage) % allOrders.length;\n    setOffset(newOffset);\n  }\n  return (\n    <div>\n      <AgentHeader path={props.location.pathname} />\n      <section class=\"vtc_agent_banner\" style={{ backgroundImage: \"url(\" + banner + \")\" }}>\n        <div class=\"vtc_top_menu\">\n          <div class=\"container-fluid\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 col-md-12\">\n                <div class=\"vtc_agent_menu_top\">\n                  <ul>\n                    <li>\n                      <Link to={APIPath() + \"agent-dashboard\"}>My Cafe</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-image-sets\"}>Image Sets</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-tour-list\"}>Tours</Link>\n                    </li>\n                    <li class=\"\">\n                      <Link to={APIPath() + \"agent-flyer\"}>Flyers</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-video-list\"}>Videos</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-setting\"}>Settings</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-preferred-vendor\"}>Preferred Vendors</Link>\n                    </li>\n                    <li>\n                      <a href=\"https://www.xpressdocs.com/next/index.php?uuid=458143677bda0010f37b603828f3b783\">Xpressdocs</a>\n                    </li>\n                    <li class=\"\">\n                      <Link to={APIPath() + \"agent-support\"}>Support</Link>\n                    </li>\n                  </ul>\n                  <div class=\"gee_mobile\">\n                    <button onClick={() => ShowMenu()} class=\"gee_hamburger\">&#9776;</button>\n                    <button onClick={() => HideMenu()} class=\"gee_cross\">&#735;</button>\n                  </div>\n                </div>\n                <div class=\"gee_menu\">\n                  <ul>\n                    <li class=\"\">\n                      <Link to={APIPath() + \"agent-dashboard\"}>My Cafe</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-image-sets\"}>Image Sets</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-tour-list\"}>Tours</Link>\n                    </li>\n                    <li class=\"\">\n                      <Link to={APIPath() + \"agent-flyer\"}>Flyers</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-video-list\"}>Videos</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-setting\"}>Settings</Link>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-preferred-vendor\"}>Preferred Vendors</Link>\n                    </li>\n                    <li>\n                      <a href=\"https://www.xpressdocs.com/next/index.php?uuid=458143677bda0010f37b603828f3b783\">Xpressdocs</a>\n                    </li>\n                    <li>\n                      <Link to={APIPath() + \"agent-support\"}>Support</Link>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"banner-title\">\n          <h2>Order List</h2>\n        </div>\n      </section>\n      <section class=\"vtc_agent_profile\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-lg-12 col-md-12 mx-auto\">\n              <div class=\"vtc_agent_profile_main\">\n                <table class=\"table table-bordered\">\n                  <thead class=\"thead-light\">\n                    <tr>\n                      <th style={{ textAlign: \"center\" }}>Order No</th>\n                      <th style={{ textAlign: \"center\" }}>Transaction Id</th>\n                      <th style={{ textAlign: \"center\" }}>Reference Id</th>\n                      <th style={{ textAlign: \"center\" }}>Payment Status</th>\n                      <th style={{ textAlign: \"center\" }}>Amount</th>\n                      <th style={{ textAlign: \"center\" }}>Payment Date</th>\n                      <th style={{ textAlign: \"center\" }}>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {allData.length > 0 ? (\n                      allData.map(res => (\n                        <tr>\n                          <td style={{ textAlign: \"center\" }}>{res.order_no}</td>\n                          <td style={{ textAlign: \"center\" }}>{res.transaction_id}</td>\n                          <td style={{ textAlign: \"center\" }}>{res.refid}</td>\n                          <td style={{ textAlign: \"center\" }}>{res.payment_status}</td>\n                          <td style={{ textAlign: \"center\" }}>{res.amount}</td>\n                          <td style={{ textAlign: \"center\" }}>{res.payment_date}</td>\n                          <td style={{ textAlign: \"center\" }}>\n                            <a style={{ marginRight: \"20px\" }} onClick={() => handleDetails(res.id)} class=\"btn btn-warning\" title=\"View Details\">View Details</a>\n                          </td>\n                        </tr>\n                      ))\n                    ) : (\n                      <tr>\n                        <td colSpan=\"7\">\n                          No Orders Found ..\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <ReactPaginate\n            previousLabel={\"«\"}\n            nextLabel={\"»\"}\n            breakLabel={\"...\"}\n            pageCount={pageCount}\n            marginPagesDisplayed={3}\n            ageRangeDisplayed={3}\n            onPageChange={handlePageClick}\n            containerClassName=\"pagination justify-content-center\"\n            pageClassName='page-item'\n            pageLinkClassName='page-link'\n            previousClassName='page-item'\n            previousLinkClassName='page-link'\n            nextClassName='page-item'\n            nextLinkClassName='page-link'\n            breakClassName='page-item'\n            breakLinkClassName='page-link'\n            activeClassName='active'\n          />\n        </div>\n      </section>\n      <Footer />\n    </div>\n\n  )\n}"]},"metadata":{},"sourceType":"module"}