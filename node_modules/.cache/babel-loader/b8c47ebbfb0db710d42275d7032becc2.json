{"ast":null,"code":"import _toConsumableArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from\"react\";import Button from'@material-ui/core/Button';import Skeleton from'@material-ui/lab/Skeleton';import AddIcon from'@material-ui/icons/Add';import HighlightOffIcon from'@material-ui/icons/HighlightOff';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import{APIURL}from\"../../../../CommonMethods/Fetch\";import{postRecord}from\"../../../../CommonMethods/Save\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APIGetOrderPackages=APIURL()+\"get-order-package\";function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));}export default function PackagesTwo(props){var setPackageTab=props.setPackageTab,setSecondPackageTab=props.setSecondPackageTab,setMiscPackageTab=props.setMiscPackageTab;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allData=_useState2[0],setAllData=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem(\"Sub_Package\"))===null?[]:JSON.parse(localStorage.getItem(\"Sub_Package\"))),_useState4=_slicedToArray(_useState3,2),subPackages=_useState4[0],setSubPackages=_useState4[1];var _useState5=useState(JSON.parse(localStorage.getItem(\"Combo_Sub_Package\"))===null?[]:JSON.parse(localStorage.getItem(\"Combo_Sub_Package\"))),_useState6=_slicedToArray(_useState5,2),comboSubPackages=_useState6[0],setComboSubPackages=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openError=_useState8[0],setOpenError=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openWarning=_useState10[0],setOpenWarning=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];useEffect(function(){window.scrollTo(0,400);},[]);useEffect(function(){var unique_carte=JSON.parse(localStorage.getItem(\"Carte_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});var unique_combo=JSON.parse(localStorage.getItem(\"Combo_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});var obj={authenticate_key:\"abcd123XYZ\",agent_id:\"7010\",combopackages:unique_combo,category_list:unique_carte};postRecord(APIGetOrderPackages,obj).then(function(res){if(res.data[0].response.status===\"success\"){setAllData(res.data[0].response.data);}});},[]);var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpenWarning(false);setOpenError(false);};var addSubPackages=function addSubPackages(id){setSubPackages(function(prevArray){return[].concat(_toConsumableArray(prevArray),[id]);});};var removeSubPackages=function removeSubPackages(id){var index=arrayRemove(subPackages,id);setSubPackages(index);};var addComboSubPackages=function addComboSubPackages(id){setComboSubPackages(function(prevArray){return[].concat(_toConsumableArray(prevArray),[id]);});};var removeComboSubPackages=function removeComboSubPackages(id){var index=arrayRemove(comboSubPackages,id);setComboSubPackages(index);};function arrayRemove(arr,value){return arr.filter(function(geeks){return geeks!=value;});}var checkId=function checkId(id){var filter_data=subPackages.filter(function(res){return res===id;});if(filter_data.length>0){return true;}else{return false;}};var checkComboId=function checkComboId(id){var filter_data=comboSubPackages.filter(function(res){return res===id;});if(filter_data.length>0){return true;}else{return false;}};var savePackage=function savePackage(){if(subPackages.length===0){setMessage(\"Please select any package\");setOpenError(true);}else{localStorage.setItem(\"Sub_Package\",JSON.stringify(subPackages));localStorage.setItem(\"Combo_Sub_Package\",JSON.stringify(comboSubPackages));setSecondPackageTab(false);setMiscPackageTab(true);}};return/*#__PURE__*/_jsxs(\"div\",{class:\"appointment_page_right\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Packages\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"step_progress\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Step 2/4\"}),/*#__PURE__*/_jsx(\"div\",{class:\"progress\",style:{height:\"20px\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"progress-bar\",role:\"progressbar\",style:{width:\"50%\"},\"aria-valuenow\":\"50\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"Order_cont\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"package_sec\",children:[Object.keys(allData).length>0?allData.package.map(function(res){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12 appointment-steps\",children:/*#__PURE__*/_jsx(\"h4\",{children:res.title})}),/*#__PURE__*/_jsx(\"div\",{class:\"package-box-appointment\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:res.package_details.map(function(sd){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-description\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-appointment1\",children:[/*#__PURE__*/_jsxs(\"span\",{class:\"pricetag\",children:[\" $ \",sd.price]}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"150px\",objectFit:\"cover\",width:\"100%\"},src:sd.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:sd.title})]}),/*#__PURE__*/_jsx(\"div\",{class:\"package-box-appointment1-content\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:sd.description}})}),checkId(sd.id)===true?/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",color:\"secondary\",endIcon:/*#__PURE__*/_jsx(HighlightOffIcon,{}),onClick:function onClick(){removeSubPackages(sd.id);},children:\"Remove\"}):/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:function onClick(){addSubPackages(sd.id);},children:\"Add\"})]})});})})})]});}):/*#__PURE__*/_jsxs(\"div\",{class:\"\",children:[/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:200,height:250,style:{background:\"#bbbbbb\",width:\"100%\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:400,height:50,style:{background:\"#bbbbbb\",marginTop:\"-34px\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:600,height:25,style:{background:\"#bbbbbb\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:160,height:80,style:{background:\"#bbbbbb\"}})]}),Object.keys(allData).length>0?allData.combo_package.map(function(res){return/*#__PURE__*/_jsxs(\"div\",{children:[allData.combo_package.package_details!==undefined&&/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12 appointment-steps\",children:/*#__PURE__*/_jsx(\"h4\",{children:res.title})}),/*#__PURE__*/_jsx(\"div\",{class:\"package-box-appointment\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:allData.combo_package.package_details!==undefined&&allData.combo_package.package_details.map(function(sd){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-description\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"package-box-appointment1\",children:[/*#__PURE__*/_jsxs(\"span\",{class:\"pricetag\",children:[\" $ \",sd.price]}),/*#__PURE__*/_jsx(\"img\",{style:{height:\"150px\",objectFit:\"cover\",width:\"100%\"},src:sd.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:sd.title})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"70px\"},class:\"package-box-appointment1-content\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:sd.description}})}),checkComboId(sd.id)===true?/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",color:\"secondary\",endIcon:/*#__PURE__*/_jsx(HighlightOffIcon,{}),onClick:function onClick(){removeComboSubPackages(sd.id);},children:\"Remove\"}):/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:function onClick(){addComboSubPackages(sd.id);},children:\"Add\"})]})});})})})]});}):/*#__PURE__*/_jsxs(\"div\",{class:\"\",children:[/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:200,height:250,style:{background:\"#bbbbbb\",width:\"100%\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:400,height:50,style:{background:\"#bbbbbb\",marginTop:\"-34px\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:600,height:25,style:{background:\"#bbbbbb\"}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",width:160,height:80,style:{background:\"#bbbbbb\"}})]})]})})}),/*#__PURE__*/_jsx(\"hr\",{class:\"spacer50px\"}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-6 col-md-6 mx-auto\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#\",onClick:function onClick(){setSecondPackageTab(false);setPackageTab(true);},class:\"let_start\",style:{margin:\"0 20px 0 0\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"20px\",marginLeft:\"0\"},class:\"fas fa-arrow-left\"}),\"Back \"]}),/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0)\",class:\"let_start_new\",onClick:function onClick(){savePackage();//setSecondPackageTab(false);\n//setSecondPackageTab(true);\n},children:[\"Next \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-arrow-right\"})]})]})})]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openWarning,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"warning\",children:message})}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openError,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",children:message})})]});}","map":{"version":3,"sources":["C:/Users/user/Desktop/Uma/vtc/src/views/Home/sections/Appointment/PackagesTwo.js"],"names":["React","useEffect","useState","Button","Skeleton","AddIcon","HighlightOffIcon","Snackbar","MuiAlert","APIURL","postRecord","APIGetOrderPackages","Alert","props","PackagesTwo","setPackageTab","setSecondPackageTab","setMiscPackageTab","allData","setAllData","JSON","parse","localStorage","getItem","subPackages","setSubPackages","comboSubPackages","setComboSubPackages","openError","setOpenError","openWarning","setOpenWarning","message","setMessage","window","scrollTo","unique_carte","filter","item","i","ar","indexOf","unique_combo","obj","authenticate_key","agent_id","combopackages","category_list","then","res","data","response","status","handleClose","event","reason","addSubPackages","id","prevArray","removeSubPackages","index","arrayRemove","addComboSubPackages","removeComboSubPackages","arr","value","geeks","checkId","filter_data","length","checkComboId","savePackage","setItem","stringify","height","width","Object","keys","package","map","title","package_details","sd","price","objectFit","image","__html","description","marginTop","background","combo_package","undefined","minHeight","margin","marginRight","marginLeft","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { APIURL } from \"../../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../../CommonMethods/Save\";\nconst APIGetOrderPackages = APIURL() + \"get-order-package\";\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\nexport default function PackagesTwo(props) {\n    const { setPackageTab, setSecondPackageTab, setMiscPackageTab } = props;\n    const [allData, setAllData] = useState({});\n    const [subPackages, setSubPackages] = useState(JSON.parse(localStorage.getItem(\"Sub_Package\")) === null ? [] : JSON.parse(localStorage.getItem(\"Sub_Package\")));\n    const [comboSubPackages, setComboSubPackages] = useState(JSON.parse(localStorage.getItem(\"Combo_Sub_Package\")) === null ? [] : JSON.parse(localStorage.getItem(\"Combo_Sub_Package\")));\n    const [openError, setOpenError] = useState(false);\n    const [openWarning, setOpenWarning] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    useEffect(() => {\n        window.scrollTo(0, 400);\n    }, []);\n    useEffect(() => {\n        let unique_carte = JSON.parse(localStorage.getItem(\"Carte_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        let unique_combo = JSON.parse(localStorage.getItem(\"Combo_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        const obj = { authenticate_key: \"abcd123XYZ\", agent_id: \"7010\", combopackages: unique_combo, category_list: unique_carte };\n        postRecord(APIGetOrderPackages, obj)\n            .then(res => {\n                if (res.data[0].response.status === \"success\") {\n                    setAllData(res.data[0].response.data);\n                }\n            });\n    }, []);\n\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenWarning(false);\n        setOpenError(false);\n    };\n    const addSubPackages = (id) => {\n        setSubPackages(prevArray => [...prevArray, id]);\n    }\n    const removeSubPackages = (id) => {\n        const index = arrayRemove(subPackages, id);\n        setSubPackages(index);\n    }\n    const addComboSubPackages = (id) => {\n        setComboSubPackages(prevArray => [...prevArray, id]);\n    }\n    const removeComboSubPackages = (id) => {\n        const index = arrayRemove(comboSubPackages, id);\n        setComboSubPackages(index);\n    }\n    function arrayRemove(arr, value) {\n        return arr.filter(function (geeks) {\n            return geeks != value;\n        });\n    }\n    const checkId = (id) => {\n        var filter_data = subPackages.filter(res => {\n            return res === id;\n        });\n        if (filter_data.length > 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    const checkComboId = (id) => {\n        var filter_data = comboSubPackages.filter(res => {\n\n            return res === id;\n        });\n        if (filter_data.length > 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    const savePackage = () => {\n        if (subPackages.length === 0) {\n            setMessage(\"Please select any package\");\n            setOpenError(true);\n        }\n        else {\n        localStorage.setItem(\"Sub_Package\", JSON.stringify(subPackages));\n        localStorage.setItem(\"Combo_Sub_Package\", JSON.stringify(comboSubPackages));\n        setSecondPackageTab(false);\n        setMiscPackageTab(true);\n        }\n    }\n    return (\n        <div class=\"appointment_page_right\">\n            <div class=\"row\">\n                <div class=\"col-md-12\">\n                    <h3>Packages</h3>\n                    <div class=\"step_progress\">\n                        <span>Step 2/4</span>\n                        <div class=\"progress\" style={{ height: \"20px\" }}>\n                            <div class=\"progress-bar\" role=\"progressbar\" style={{ width: \"50%\" }} aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"Order_cont\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12 col-md-12\">\n                        <div class=\"package_sec\">\n                            {Object.keys(allData).length > 0 ? (\n                                allData.package.map(res => (\n                                    <React.Fragment>\n                                        <div class=\"col-md-12 appointment-steps\">\n                                            <h4>{res.title}</h4>\n                                        </div>\n                                        <div class=\"package-box-appointment\">\n                                            <div class=\"row\">\n                                                {res.package_details.map(sd => (\n                                                    <div class=\"col-md-6\">\n                                                        <div class=\"package-box-description\">\n                                                            <div class=\"package-box-appointment1\">\n                                                                <span class=\"pricetag\"> $ {sd.price}</span>\n                                                                <img style={{ height: \"150px\", objectFit: \"cover\", width: \"100%\" }} src={sd.image} alt=\"\" />\n                                                                <h4>{sd.title}</h4>\n                                                            </div>\n                                                            <div class=\"package-box-appointment1-content\">\n                                                                <div\n                                                                    dangerouslySetInnerHTML={{\n                                                                        __html:\n                                                                            sd.description\n                                                                    }}\n                                                                >\n                                                                </div>\n                                                            </div>\n                                                            {checkId(sd.id) === true ? (\n                                                                <Button\n                                                                    style={{ marginTop: \"20px\" }}\n                                                                    variant=\"contained\"\n                                                                    color=\"secondary\"\n                                                                    endIcon={<HighlightOffIcon />}\n                                                                    onClick={() => {\n                                                                        removeSubPackages(sd.id);\n                                                                    }}\n                                                                >\n                                                                    Remove\n                                                                </Button>\n                                                            ) : (\n                                                                <Button\n                                                                    style={{ marginTop: \"20px\" }}\n                                                                    variant=\"contained\"\n                                                                    color=\"primary\"\n                                                                    endIcon={<AddIcon />}\n                                                                    onClick={() => {\n                                                                        addSubPackages(sd.id);\n                                                                    }}\n                                                                >\n                                                                    Add\n                                                                </Button>\n                                                            )}\n                                                        </div>\n                                                    </div>\n\n                                                ))}\n                                            </div>\n                                        </div>\n\n                                    </React.Fragment>\n                                ))\n                            ) : (\n                                <div class=\"\">\n                                    <Skeleton variant=\"text\" width={200} height={250} style={{ background: \"#bbbbbb\", width: \"100%\" }} />\n                                    <Skeleton variant=\"text\" width={400} height={50} style={{ background: \"#bbbbbb\", marginTop: \"-34px\" }} />\n                                    <Skeleton variant=\"text\" width={600} height={25} style={{ background: \"#bbbbbb\" }} />\n                                    <Skeleton variant=\"text\" width={160} height={80} style={{ background: \"#bbbbbb\" }} />\n                                </div>\n                            )}\n                            {Object.keys(allData).length > 0 ? (\n                                allData.combo_package.map(res => (\n                                    <div>\n                                        {allData.combo_package.package_details !== undefined &&\n                                            <div class=\"col-md-12 appointment-steps\">\n                                                <h4>{res.title}</h4>\n                                            </div>\n                                        }\n                                        <div class=\"package-box-appointment\">\n                                            <div class=\"row\">\n                                                {allData.combo_package.package_details !== undefined && allData.combo_package.package_details.map(sd => (\n                                                    <div class=\"col-md-6\">\n                                                        <div class=\"package-box-description\">\n                                                            <div class=\"package-box-appointment1\">\n                                                                <span class=\"pricetag\"> $ {sd.price}</span>\n                                                                <img style={{ height: \"150px\", objectFit: \"cover\", width: \"100%\" }} src={sd.image} alt=\"\" />\n                                                                <h4>{sd.title}</h4>\n                                                            </div>\n                                                            <div style={{ minHeight: \"70px\" }} class=\"package-box-appointment1-content\">\n                                                                <div\n                                                                    dangerouslySetInnerHTML={{\n                                                                        __html:\n                                                                            sd.description\n                                                                    }}\n                                                                >\n                                                                </div>\n                                                            </div>\n                                                            {checkComboId(sd.id) === true ? (\n                                                                <Button\n                                                                    style={{ marginTop: \"20px\" }}\n                                                                    variant=\"contained\"\n                                                                    color=\"secondary\"\n                                                                    endIcon={<HighlightOffIcon />}\n                                                                    onClick={() => {\n                                                                        removeComboSubPackages(sd.id);\n                                                                    }}\n                                                                >\n                                                                    Remove\n                                                                </Button>\n                                                            ) : (\n                                                                <Button\n                                                                    style={{ marginTop: \"20px\" }}\n                                                                    variant=\"contained\"\n                                                                    color=\"primary\"\n                                                                    endIcon={<AddIcon />}\n                                                                    onClick={() => {\n                                                                        addComboSubPackages(sd.id);\n                                                                    }}\n                                                                >\n                                                                    Add\n                                                                </Button>\n                                                            )}\n                                                        </div>\n                                                    </div>\n\n                                                ))}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))\n                            ) : (\n                                <div class=\"\">\n                                    <Skeleton variant=\"text\" width={200} height={250} style={{ background: \"#bbbbbb\", width: \"100%\" }} />\n                                    <Skeleton variant=\"text\" width={400} height={50} style={{ background: \"#bbbbbb\", marginTop: \"-34px\" }} />\n                                    <Skeleton variant=\"text\" width={600} height={25} style={{ background: \"#bbbbbb\" }} />\n                                    <Skeleton variant=\"text\" width={160} height={80} style={{ background: \"#bbbbbb\" }} />\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n                <hr class=\"spacer50px\" />\n                <div class=\"row\">\n                    <div class=\"col-lg-6 col-md-6 mx-auto\">\n                        <a href=\"#\" onClick={() => {\n                            setSecondPackageTab(false);\n                            setPackageTab(true);\n                        }} class=\"let_start\" style={{ margin: \"0 20px 0 0\" }}><i style={{ marginRight: \"20px\", marginLeft: \"0\" }} class=\"fas fa-arrow-left\"></i>Back </a>\n                        <a href=\"javascript:void(0)\" class=\"let_start_new\" onClick={() => {\n                            savePackage();\n                            //setSecondPackageTab(false);\n                            //setSecondPackageTab(true);\n                        }}>Next <i class=\"fas fa-arrow-right\"></i></a>\n                    </div>\n                </div>\n            </div>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openWarning} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"warning\">\n                    {message}\n                </Alert>\n            </Snackbar>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openError} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"error\">\n                    {message}\n                </Alert>\n            </Snackbar>\n        </div >\n    );\n}"]},"metadata":{},"sourceType":"module"}