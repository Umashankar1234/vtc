{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Uma\\\\vtc\\\\src\\\\views\\\\Dashboard\\\\Agent\\\\AgentDownloadFlyer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Recorder } from 'react-voice-recorder';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport axios from \"axios\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport banner from \"../../../images/vtc-banner.jpg\";\nimport Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\nimport up_img from \"../../../images/up.png\";\nimport middle_img from \"../../../images/middle.png\";\nimport bottom_img from \"../../../images/bottom.png\";\nimport man from \"../../../images/man.png\";\nimport house_img from \"../../../images/house-img.jpg\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport AddIcon from '@material-ui/icons/Add';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Footer from \"../../../components/Footer/AgentFooter\";\nimport AgentHeader from \"../Header/AgentHeader\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../../CommonMethods/Authentication\";\nimport { APIURL, APIPath } from \"../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../CommonMethods/Save\";\nimport logo from \"../../../images/wallpaper.jpg\";\nimport photo from \"../../../images/photo.jpg\";\nimport logo1 from \"../../../images/logo.jpg\";\nimport html2PDF from 'jspdf-html2canvas';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst APIGetViewFlyerData = APIURL() + \"view-flyer\";\n\nfunction Alert(props) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n}\n\n_c = Alert;\nexport default function AgentDownloadFlyer(props) {\n  _s();\n\n  const flyerId = props.match.params.flyerid;\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const context = useContext(AuthContext);\n  let history = useHistory();\n  const [sync, setSync] = useState(true);\n  const [openError, setOpenError] = useState(false);\n  const [openSuccess, setOpenSuccess] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [tourData, setTourData] = useState({});\n  const [link, setLink] = useState(\"\");\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenSuccess(false);\n    setOpenError(false);\n  };\n\n  useEffect(() => {\n    if (context.state.user) {\n      const objusr = {\n        authenticate_key: \"abcd123XYZ\",\n        tourId: flyerId,\n        agent_id: JSON.parse(context.state.user).agentId\n      };\n      postRecord(APIGetViewFlyerData, objusr).then(res => {\n        if (res.data[0].response.status === \"success\") {\n          setTourData(res.data[0].response.tourData);\n          setLink(res.data[0].response.tourData.tourid);\n        }\n      });\n    }\n  }, [sync, context.state.user, flyerId]);\n  useEffect(() => {\n    if (Object.keys(tourData).length > 0) {\n      generatePDF();\n    }\n  }, [tourData]);\n\n  const generatePDF = () => {\n    const pages = document.getElementById('container');\n    html2PDF(pages, {\n      jsPDF: {\n        format: 'a4'\n      },\n      html2canvas: {\n        scrollX: 0,\n        scrollY: -window.scrollY\n      },\n      watermark: {\n        handler({\n          pdf,\n          imgNode,\n          pageNumber2,\n          totalPageNumber\n        }) {\n          const props = pdf.getImageProperties(imgNode); // do something...\n\n          pdf.addImage(imgNode, 'PNG', 0, 0, 40, 40);\n        }\n\n      },\n      imageType: 'image/png',\n      output: './AgentFlyer.pdf'\n    });\n  }; //const myTimeout = setTimeout(generatePDF, 2000);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      id: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItem: \"center\",\n            width: \"100%\",\n            height: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-7 col-md-7\",\n            style: {\n              backgroundColor: \"rgb(0, 174, 229)\",\n              marginLeft: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"white\",\n                textAlign: \"center\",\n                width: \"100%\",\n                lineHeight: \"80px\"\n              },\n              children: [\"TEST\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this), Object.keys(tourData).length > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  textTransform: \"uppercase\"\n                },\n                children: [tourData.city, \" \", tourData.countryname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n                variant: \"text\",\n                width: 250,\n                height: 100,\n                style: {\n                  background: \"#bbbbbb\",\n                  margin: \"0 auto\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-4 col-md-4\",\n            style: {\n              backgroundColor: \"rgb(52, 52, 52)\",\n              marginLeft: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: photo,\n                  width: \"80px\",\n                  height: \"80px\",\n                  style: {\n                    border: \"2px solid white\",\n                    margin: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo1,\n                  width: \"80px\",\n                  height: \"100px\",\n                  style: {\n                    border: \"2px solid white\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\",\n                  width: '100%',\n                  color: \"white\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\",\n                    marginBottom: \"0px\"\n                  },\n                  children: Object.keys(tourData).length > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      textTransform: \"capitalize\"\n                    },\n                    children: [tourData.caption, \" \", tourData.countryname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 45\n                  }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {\n                    variant: \"text\",\n                    width: 250,\n                    height: 60,\n                    style: {\n                      background: \"#bbbbbb\",\n                      margin: \"0 auto\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\",\n                    marginBottom: \"0px\"\n                  },\n                  children: \"Test New Company\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"123-111-2232\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\",\n                  width: '100%',\n                  color: \"white\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"Lic# MS03212s\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItem: \"center\",\n            width: \"100%\",\n            marginTop: \"05px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-7 col-md-7\",\n            style: {\n              marginLeft: \"10px\",\n              backgroundImage: \"url(\" + logo + \")\",\n              backgroundSize: \"cover\",\n              backgroundPosition: \"fixed\",\n              height: \"500px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-4 col-md-4\",\n            style: {\n              backgroundColor: \"rgb(0, 174, 229)\",\n              marginLeft: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItem: \"center\",\n            width: \"100%\",\n            height: \"250px\",\n            marginTop: \"05px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-7 col-md-7\",\n            style: {\n              backgroundColor: \"rgb(0, 174, 229)\",\n              marginLeft: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Offered At: c$36,587,648\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                alignItem: \"center\",\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \" BEDROOMS :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"BATHROOMS :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"GARAGE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"YEAR BUILT :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"LOT SIZE:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"INTERIOR SQ. FT :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-lg-4 col-md-4\",\n            style: {\n              backgroundColor: \"rgb(52, 52, 52)\",\n              marginLeft: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  flexDirection: \"column\",\n                  marginTop: \"80px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"img_set_para\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    style: {\n                      color: \"black\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: \"\",\n                        textDecoration: \"underline\",\n                        fontStyle: \"italic\",\n                        marginBottom: \"5px\"\n                      },\n                      children: [\"https://virtualtourcafe.com/agent-flyer-tour/\", link]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 71\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"All information deemed reliable, but not guaranteed.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      open: openSuccess,\n      autoHideDuration: 3000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      open: openError,\n      autoHideDuration: 3000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AgentDownloadFlyer, \"sCZ53wnFswsd3QnT90GFfnym7kA=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = AgentDownloadFlyer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"AgentDownloadFlyer\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Uma/vtc/src/views/Dashboard/Agent/AgentDownloadFlyer.js"],"names":["React","useState","useEffect","useContext","Recorder","Snackbar","MuiAlert","axios","Dialog","DialogTitle","DialogContent","banner","Grid","DateFnsUtils","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","up_img","middle_img","bottom_img","man","house_img","CancelIcon","HighlightOffIcon","AddIcon","SaveIcon","Footer","AgentHeader","Skeleton","Link","useHistory","AuthContext","APIURL","APIPath","postRecord","logo","photo","logo1","html2PDF","APIGetViewFlyerData","Alert","props","AgentDownloadFlyer","flyerId","match","params","flyerid","dispatch","context","history","sync","setSync","openError","setOpenError","openSuccess","setOpenSuccess","message","setMessage","tourData","setTourData","link","setLink","handleClose","event","reason","state","user","objusr","authenticate_key","tourId","agent_id","JSON","parse","agentId","then","res","data","response","status","tourid","Object","keys","length","generatePDF","pages","document","getElementById","jsPDF","format","html2canvas","scrollX","scrollY","window","watermark","handler","pdf","imgNode","pageNumber2","totalPageNumber","getImageProperties","addImage","imageType","output","display","justifyContent","alignItem","width","height","backgroundColor","marginLeft","color","textAlign","lineHeight","textTransform","city","countryname","background","margin","alignItems","border","marginBottom","caption","marginTop","backgroundImage","backgroundSize","backgroundPosition","flexDirection","textDecoration","fontStyle","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Recorder } from 'react-voice-recorder'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport axios from \"axios\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport banner from \"../../../images/vtc-banner.jpg\";\nimport Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardTimePicker,\n    KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport up_img from \"../../../images/up.png\";\nimport middle_img from \"../../../images/middle.png\";\nimport bottom_img from \"../../../images/bottom.png\";\nimport man from \"../../../images/man.png\";\nimport house_img from \"../../../images/house-img.jpg\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport AddIcon from '@material-ui/icons/Add';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Footer from \"../../../components/Footer/AgentFooter\";\nimport AgentHeader from \"../Header/AgentHeader\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../../CommonMethods/Authentication\";\nimport { APIURL, APIPath } from \"../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../CommonMethods/Save\";\nimport logo from \"../../../images/wallpaper.jpg\";\nimport photo from \"../../../images/photo.jpg\";\nimport logo1 from \"../../../images/logo.jpg\"\nimport html2PDF from 'jspdf-html2canvas';\nconst APIGetViewFlyerData = APIURL() + \"view-flyer\";\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function AgentDownloadFlyer(props) {\n    const flyerId = props.match.params.flyerid;\n    const { dispatch } = useContext(AuthContext);\n\n    const context = useContext(AuthContext);\n    let history = useHistory();\n    const [sync, setSync] = useState(true);\n    const [openError, setOpenError] = useState(false);\n    const [openSuccess, setOpenSuccess] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [tourData, setTourData] = useState({});\n    const [link, setLink] = useState(\"\");\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenSuccess(false);\n        setOpenError(false);\n    };\n\n    useEffect(() => {\n        if (context.state.user) {\n            const objusr = { authenticate_key: \"abcd123XYZ\", tourId: flyerId, agent_id: JSON.parse(context.state.user).agentId };\n            postRecord(APIGetViewFlyerData, objusr)\n                .then(res => {\n                    if (res.data[0].response.status === \"success\") {\n                        setTourData(res.data[0].response.tourData)\n                        setLink(res.data[0].response.tourData.tourid);\n                    }\n                })\n        }\n    }, [sync, context.state.user, flyerId]);\n    useEffect(() => {\n        if (Object.keys(tourData).length>0){\n            generatePDF();\n        } \n    }, [tourData]);\n    const generatePDF = () => {\n        const pages = document.getElementById('container');\n        html2PDF(pages, {\n            jsPDF: {\n                format: 'a4',\n            },\n            html2canvas: {\n                scrollX: 0,\n                scrollY: -window.scrollY,\n            },\n            watermark: {\n                handler({ pdf, imgNode, pageNumber2, totalPageNumber }) {\n                    const props = pdf.getImageProperties(imgNode);\n                    // do something...\n                    pdf.addImage(imgNode, 'PNG', 0, 0, 40, 40);\n                },\n            },\n            imageType: 'image/png',\n            output: './AgentFlyer.pdf'\n        });\n    }\n    \n    //const myTimeout = setTimeout(generatePDF, 2000);\n\n    return (\n        <>\n            <div class=\"container\" id=\"container\">\n                <div class=\"container-fluid\"  >\n                    <div class=\"row\" style={{ display: \"flex\", justifyContent: \"center\", alignItem: \"center\", width: \"100%\", height: \"auto\" }}>\n                        <div class=\"col-lg-7 col-md-7\" style={{ backgroundColor: \"rgb(0, 174, 229)\", marginLeft: \"10px\" }} >\n                            <p style={{ color: \"white\", textAlign: \"center\", width: \"100%\", lineHeight: \"80px\" }}>\n                                TEST<br></br>\n                                {Object.keys(tourData).length > 0 ? (\n                                    <span style={{ textTransform: \"uppercase\" }}>{tourData.city} {tourData.countryname}</span>\n                                ) : (\n                                    <Skeleton variant=\"text\" width={250} height={100} style={{ background: \"#bbbbbb\", margin: \"0 auto\" }} />\n                                )}\n                            </p>\n                        </div>\n                        <div class=\"col-lg-4 col-md-4\" style={{ backgroundColor: \"rgb(52, 52, 52)\", marginLeft: \"10px\" }}>\n                            <div class=\"row\">\n                                <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", width: \"100%\" }}>\n                                    <img src={photo} width=\"80px\" height=\"80px\" style={{ border: \"2px solid white\", margin: \"5px\" }}></img>\n                                    <img src={logo1} width=\"80px\" height=\"100px\" style={{ border: \"2px solid white\" }}></img>\n                                </div>\n                                <div style={{ textAlign: \"center\", width: '100%', color: \"white\" }}>\n                                    <p style={{ color: \"white\", marginBottom: \"0px\" }}>\n                                        {Object.keys(tourData).length > 0 ? (\n                                            <span style={{ textTransform: \"capitalize\" }}>{tourData.caption} {tourData.countryname}</span>\n                                        ) : (\n                                            <Skeleton variant=\"text\" width={250} height={60} style={{ background: \"#bbbbbb\", margin: \"0 auto\" }} />\n                                        )}\n                                    </p>\n                                    <p style={{ color: \"white\", marginBottom: \"0px\" }}>Test New Company\n                                    </p >\n                                    <p style={{ color: \"white\" }}>123-111-2232</p>\n                                </div>\n                                <div style={{ textAlign: \"center\", width: '100%', color: \"white\" }}>\n                                    <p style={{ color: \"white\" }}>Lic# MS03212s</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\" style={{ display: \"flex\", justifyContent: \"center\", alignItem: \"center\", width: \"100%\", marginTop: \"05px\" }}>\n                        <div class=\"col-lg-7 col-md-7\" style={{ marginLeft: \"10px\", backgroundImage: \"url(\" + logo + \")\", backgroundSize: \"cover\", backgroundPosition: \"fixed\", height: \"500px\" }} >\n\n                        </div>\n                        <div class=\"col-lg-4 col-md-4\" style={{ backgroundColor: \"rgb(0, 174, 229)\", marginLeft: \"10px\" }}>\n                            <h5></h5>\n                        </div>\n                    </div>\n                    <div class=\"row\" style={{ display: \"flex\", justifyContent: \"center\", alignItem: \"center\", width: \"100%\", height: \"250px\", marginTop: \"05px\" }}>\n                        <div class=\"col-lg-7 col-md-7\" style={{ backgroundColor: \"rgb(0, 174, 229)\", marginLeft: \"10px\" }} >\n                            <h5>\n                                Offered At: c$36,587,648\n                            </h5>\n                            <h6>Features</h6>\n                            <div style={{ display: \"flex\", justifyContent: \"space-around\", alignItem: \"center\", width: \"100%\" }} >\n                                <div>\n                                    <p style={{ color: \"white\" }}> BEDROOMS :</p>\n                                    <p style={{ color: \"white\" }}>BATHROOMS :</p>\n                                    <p style={{ color: \"white\" }}>GARAGE</p>\n                                </div>\n                                <div>\n                                    <p style={{ color: \"white\" }}>YEAR BUILT :</p>\n                                    <p style={{ color: \"white\" }}>LOT SIZE:</p>\n                                    <p style={{ color: \"white\" }}>INTERIOR SQ. FT :</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-4 col-md-4\" style={{ backgroundColor: \"rgb(52, 52, 52)\", marginLeft: \"10px\" }}>\n                            <div class=\"row\">\n                                <div style={{ textAlign: \"center\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", flexDirection: \"column\", marginTop: \"80px\" }}>\n                                    {/* <p style={{ color: \"white\" }}>https://virtualtourcafe.com/tour/4778003</p> */}\n                                    <p class=\"img_set_para\">\n                                        <a style={{ color: \"black\" }}><span style={{ color: \"\", textDecoration: \"underline\", fontStyle: \"italic\", marginBottom: \"5px\" }}>https://virtualtourcafe.com/agent-flyer-tour/{link}</span></a>\n                                    </p>\n                                    <p style={{ color: \"white\" }}>All information deemed reliable, but not guaranteed.</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n\n            </div>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openSuccess} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"success\">\n                    {message}\n                </Alert>\n            </Snackbar>\n            <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openError} autoHideDuration={3000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"error\">\n                    {message}\n                </Alert>\n            </Snackbar>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}