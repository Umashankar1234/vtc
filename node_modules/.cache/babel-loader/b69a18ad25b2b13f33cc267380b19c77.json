{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/user/Desktop/Uma/vtc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState,useContext}from\"react\";import{Link,useHistory}from\"react-router-dom\";import projimg from\"../../../../images/proj.jpg\";import Button from'@material-ui/core/Button';import Skeleton from'@material-ui/lab/Skeleton';import AddIcon from'@material-ui/icons/Add';import HighlightOffIcon from'@material-ui/icons/HighlightOff';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import Backdrop from'@material-ui/core/Backdrop';import CircularProgress from'@material-ui/core/CircularProgress';import{Form,Field}from'react-final-form';import{formatCreditCardNumber,formatCVC,formatExpirationDate}from'../../../../components/Payment/cardUtils';import Card from'../../../../components/Payment/Card';import Radio from'@material-ui/core/Radio';import RadioGroup from'@material-ui/core/RadioGroup';import FormControl from'@material-ui/core/FormControl';import FormLabel from'@material-ui/core/FormLabel';import FormControlLabel from'@material-ui/core/FormControlLabel';import Typography from'@material-ui/core/Typography';import Styles from'../../../../components/Payment/Styles';import{makeStyles}from'@material-ui/core/styles';import{APIURL,APIPath}from\"../../../../CommonMethods/Fetch\";import{postRecord}from\"../../../../CommonMethods/Save\";import{AuthContext}from\"../../../../CommonMethods/Authentication\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APIGetOrderPackages=APIURL()+\"get-order-package\";var APIGetMiscPackages=APIURL()+\"get-miscellaneous\";var APISaveAppointment=APIURL()+\"appointment-save\";var APISaveLater=APIURL()+\"save-for-later\";function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));}var useStyles=makeStyles(function(theme){return{backdrop:{zIndex:theme.zIndex.drawer+9999,color:'#fff'}};});export default function CheckoutTab(props){var history=useHistory();var classes=useStyles();var setAppointment=props.setAppointment,setCheckoutTab=props.setCheckoutTab,setPackageTab=props.setPackageTab,setMiscPackageTab=props.setMiscPackageTab;var context=useContext(AuthContext);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allData=_useState2[0],setAllData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),miscData=_useState4[0],setMiscData=_useState4[1];var _useState5=useState(JSON.parse(localStorage.getItem(\"Property_Info\"))),_useState6=_slicedToArray(_useState5,2),propertyInfo=_useState6[0],setPropertyInfo=_useState6[1];var _useState7=useState(JSON.parse(localStorage.getItem(\"Basic_Info\"))),_useState8=_slicedToArray(_useState7,2),basicInfo=_useState8[0],setBasicInfo=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openError=_useState12[0],setOpenError=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),openSuccess=_useState14[0],setOpenSuccess=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),message=_useState16[0],setMessage=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),open=_useState18[0],setOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),openModal=_useState20[0],setOpenModal=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),cardDetails=_useState22[0],setCardDetails=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),packages=_useState24[0],setPackages=_useState24[1];var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpenError(false);};var handlechange=function handlechange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setCardDetails(_objectSpread(_objectSpread({},cardDetails),{},_defineProperty({},name,value.replace(/[^a-z ]/gi,''))));};var handleInputChange=function handleInputChange(event){var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;setCardDetails(_objectSpread(_objectSpread({},cardDetails),{},_defineProperty({},name,value)));};var handlePhoneChange=function handlePhoneChange(event){var _event$target3=event.target,name=_event$target3.name,value=_event$target3.value;setCardDetails(_objectSpread(_objectSpread({},cardDetails),{},_defineProperty({},name,value.replace(/\\D/g,''))));};useEffect(function(){window.scrollTo(0,400);},[]);useEffect(function(){var unique_carte=JSON.parse(localStorage.getItem(\"Carte_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});var obj={authenticate_key:\"abcd123XYZ\",combopackages:JSON.parse(localStorage.getItem(\"Combo_Package\")),category_list:unique_carte};postRecord(APIGetOrderPackages,obj).then(function(res){if(res.data[0].response.status===\"success\"){setAllData(res.data[0].response.data);// res.data[0].response.data.package.forEach(res => {\n//     setPackages([...packages, res.package_details])\n// })\n}});},[]);useEffect(function(){var obj={authenticate_key:\"abcd123XYZ\"};postRecord(APIGetMiscPackages,obj).then(function(res){if(res.data[0].response.status===\"success\"){setMiscData(res.data[0].response.data.miscellaneous);}});},[]);// console.log(allData);\n// console.log(packages);\nuseEffect(function(){var price=0;if(Object.keys(allData).length>0){allData.package.forEach(function(element){element.package_details.forEach(function(res){JSON.parse(localStorage.getItem(\"Sub_Package\")).forEach(function(sd){if(res.id===sd){price+=res.price;}});});});}if(Object.keys(miscData).length>0){miscData.miscellaneous_details.forEach(function(element){JSON.parse(localStorage.getItem(\"Misc_Package\")).forEach(function(res){if(element.id===res){price+=element.price;}});});}setPrice(price);},[allData,miscData]);function insert(str,index,value){return str.substr(0,index)+value+str.substr(index);}function GetCardType(number){var re={electron:/^(4026|417500|4405|4508|4844|4913|4917)\\d+$/,maestro:/^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\\d+$/,dankort:/^(5019)\\d+$/,interpayment:/^(636)\\d+$/,unionpay:/^(62|88)\\d+$/,visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,amex:/^3[47][0-9]{13}$/,diners:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/,jcb:/^(?:2131|1800|35\\d{3})\\d{11}$/};for(var key in re){if(re[key].test(number)){return key;}}}var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var date,parts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(values.number===undefined){setMessage(\"Please enter card number\");setOpenError(true);}else if(values.name===undefined){setMessage(\"Please enter Full name\");setOpenError(true);}else if(values.cvc===undefined){setMessage(\"Please enter CVV\");setOpenError(true);}else if(values.expiry===undefined){setMessage(\"Please enter Expiry date\");setOpenError(true);}else{setOpenModal(false);setOpen(true);date=values.expiry;parts=date.split('/');values.authenticate_key=\"abcd123XYZ\";values.agent_id=JSON.parse(context.state.user).agentId;values.street_address=basicInfo.address;values.city=basicInfo.city;values.zipcode=basicInfo.zip;values.notes=basicInfo.notes;values.combocategories=JSON.parse(localStorage.getItem(\"Combo_Package\"));values.categories=JSON.parse(localStorage.getItem(\"Carte_Package\"));values.packageid=JSON.parse(localStorage.getItem(\"Sub_Package\"));values.combopackageid=JSON.parse(localStorage.getItem(\"Combo_Sub_Package\"));values.miscellaneousids=JSON.parse(localStorage.getItem(\"Misc_Package\"));values.parent_category=JSON.parse(localStorage.getItem(\"Carte_Package\"));values.cc_month=parts[0];values.cc_year=insert(parts[1],0,\"20\");// values.card_type = GetCardType(parseInt(values.number.split(\" \").join('')));\nvalues.card_no=values.number.split(\" \").join('');values.card_holder=values.name;values.cvv_no=values.cvc;values.amount=price;values.bed_room=propertyInfo.bed_room;values.bath_room=propertyInfo.bath_room;values.square_footage=propertyInfo.square_footage;values.mls=propertyInfo.mls;values.caption=propertyInfo.caption;values.description=propertyInfo.description;values.year_built=propertyInfo.year_built;values.state=basicInfo.state;values.interior_area=basicInfo.interior_area;values.first_choice=propertyInfo.first_choice;values.second_choice=propertyInfo.second_choice;values.third_choice=propertyInfo.third_choice;values.first_time=propertyInfo.first_time;values.second_time=propertyInfo.second_time;values.third_time=propertyInfo.third_time;values.brokerid=basicInfo.broker_id;postRecord(APISaveAppointment,values).then(function(res){setOpen(false);if(res.data[0].response.status===\"success\"){setMessage(res.data[0].response.message);setOpenSuccess(true);localStorage.removeItem(\"Combo_Package\");localStorage.removeItem(\"Carte_Package\");localStorage.removeItem(\"Sub_Package\");localStorage.removeItem(\"Combo_Sub_Package\");localStorage.removeItem(\"Misc_Package\");localStorage.removeItem(\"Property_Info\");localStorage.removeItem(\"Basic_Info\");window.location.href=APIPath()+\"agent-order-list\";// history.push(APIPath() + \"agent-order-list\");\n}else{setMessage(res.data[0].response.message);setOpenError(true);}}).catch(function(err){setOpen(false);setMessage(\"Error Occured\");setOpenError(true);});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var saveForLater=function saveForLater(){var values={};values.authenticate_key=\"abcd123XYZ\";values.agent_id=JSON.parse(context.state.user).agentId;values.street_address=basicInfo.address;values.city=basicInfo.city;values.zipcode=basicInfo.zip;values.notes=basicInfo.notes;values.combocategories=JSON.parse(localStorage.getItem(\"Combo_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.categories=JSON.parse(localStorage.getItem(\"Carte_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.packageid=JSON.parse(localStorage.getItem(\"Sub_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.combopackageid=JSON.parse(localStorage.getItem(\"Combo_Sub_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.miscellaneousids=JSON.parse(localStorage.getItem(\"Misc_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.parent_category=JSON.parse(localStorage.getItem(\"Carte_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.comboparent_category=JSON.parse(localStorage.getItem(\"Combo_Package\")).filter(function(item,i,ar){return ar.indexOf(item)===i;});values.amount=price;values.bed_room=propertyInfo.bed_room;values.bath_room=propertyInfo.bath_room;values.square_footage=propertyInfo.square_footage;values.caption=propertyInfo.caption;values.description=propertyInfo.description;values.year_built=propertyInfo.year_built;values.mls=propertyInfo.mls;values.state=basicInfo.state;values.first_choice=propertyInfo.first_choice;values.second_choice=propertyInfo.second_choice;values.third_choice=propertyInfo.third_choice;values.first_time=propertyInfo.first_time;values.second_time=propertyInfo.second_time;values.third_time=propertyInfo.third_time;values.brokerid=basicInfo.broker_id;postRecord(APISaveLater,values).then(function(res){if(res.data[0].response.status===\"success\"){setMessage(res.data[0].response.message);setOpenSuccess(true);localStorage.removeItem(\"Combo_Package\");localStorage.removeItem(\"Carte_Package\");localStorage.removeItem(\"Sub_Package\");localStorage.removeItem(\"Combo_Sub_Package\");localStorage.removeItem(\"Misc_Package\");localStorage.removeItem(\"Property_Info\");localStorage.removeItem(\"Basic_Info\");history.push(APIPath()+\"agent-pending-order-list\");}else{setMessage(res.data[0].response.message);setOpenError(true);}});};var cancelOrder=function cancelOrder(){localStorage.removeItem(\"Combo_Package\");localStorage.removeItem(\"Carte_Package\");localStorage.removeItem(\"Sub_Package\");localStorage.removeItem(\"Combo_Sub_Package\");localStorage.removeItem(\"Misc_Package\");localStorage.removeItem(\"Property_Info\");localStorage.removeItem(\"Basic_Info\");setAppointment(true);setCheckoutTab(false);};return/*#__PURE__*/_jsxs(\"div\",{class:\"appointment_page_right\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ckeckout\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"step_progress\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Step 4/4\"}),/*#__PURE__*/_jsx(\"div\",{class:\"progress\",style:{height:\"20px\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"progress-bar\",role:\"progressbar\",style:{width:\"100%\"},\"aria-valuenow\":\"33\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"Order_cont\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"table\",{width:\"100%\",border:\"0\",cellspacing:\"5\",cellpadding:\"5\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{width:\"60%\",children:\"Order Total\"}),/*#__PURE__*/_jsx(\"td\",{width:\"40%\",align:\"right\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$ \",price+\".00\"]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Estimated Tax\"}),/*#__PURE__*/_jsx(\"td\",{align:\"right\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"$0.00\"})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:\"2\",height:\"5px\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:\"2\",bgcolor:\"#dedede\",height:\"3px\",style:{padding:\"0\"}})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:\"2\",height:\"5px\"})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Order total\"}),/*#__PURE__*/_jsx(\"td\",{align:\"right\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$ \",price+\".00\"]})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:\"2\",height:\"15px\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",style:{display:\"grid\"},children:/*#__PURE__*/_jsx(Styles,{children:/*#__PURE__*/_jsx(Form,{onSubmit:onSubmit,render:function render(_ref2){var handleSubmit=_ref2.handleSubmit,form=_ref2.form,submitting=_ref2.submitting,pristine=_ref2.pristine,values=_ref2.values,active=_ref2.active;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Card,{number:values.number||'',name:values.name||'',expiry:values.expiry||'',cvv:values.cvc||'',focused:active}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Field,{name:\"number\",component:\"input\",type:\"text\",pattern:\"[\\\\d| ]{16,22}\",placeholder:\"Card Number\",format:formatCreditCardNumber})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Field,{name:\"name\",component:\"input\",type:\"text\",placeholder:\"Name\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Field,{name:\"expiry\",component:\"input\",type:\"text\",pattern:\"\\\\d\\\\d/\\\\d\\\\d\",placeholder:\"Expiration Date\",format:formatExpirationDate}),/*#__PURE__*/_jsx(Field,{style:{width:\"50px\"},name:\"cvc\",component:\"input\",type:\"text\",pattern:\"\\\\d{3,4}\",placeholder:\"CVV\",format:formatCVC})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:form.reset,disabled:submitting||pristine,children:\"Reset\"})]})]});}})})}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-12 mx-auto text-center\",children:[/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){return cancelOrder();},class:\"let_start\",style:{margin:\"0px 20px 0px 0px\"},children:[/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"10px\",marginLeft:\"0px\"},class:\"far fa-times\"}),\"Cancel \"]}),/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){saveForLater();// setPackageTab(true);\n},style:{cursor:\"pointer\"},class:\"let_start_new\",children:[\"Save For Later \",/*#__PURE__*/_jsx(\"i\",{style:{marginRight:\"10px\",marginLeft:\"0px\"},class:\"far fa-save\"})]})]})}),/*#__PURE__*/_jsx(Backdrop,{className:classes.backdrop,open:open,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openSuccess,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",children:message})}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openError,autoHideDuration:3000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",children:message})})]})]});}","map":{"version":3,"sources":["C:/Users/user/Desktop/Uma/vtc/src/views/Home/sections/Appointment/CheckoutTab.js"],"names":["React","useEffect","useState","useContext","Link","useHistory","projimg","Button","Skeleton","AddIcon","HighlightOffIcon","Snackbar","MuiAlert","Backdrop","CircularProgress","Form","Field","formatCreditCardNumber","formatCVC","formatExpirationDate","Card","Radio","RadioGroup","FormControl","FormLabel","FormControlLabel","Typography","Styles","makeStyles","APIURL","APIPath","postRecord","AuthContext","APIGetOrderPackages","APIGetMiscPackages","APISaveAppointment","APISaveLater","Alert","props","useStyles","theme","backdrop","zIndex","drawer","color","CheckoutTab","history","classes","setAppointment","setCheckoutTab","setPackageTab","setMiscPackageTab","context","allData","setAllData","miscData","setMiscData","JSON","parse","localStorage","getItem","propertyInfo","setPropertyInfo","basicInfo","setBasicInfo","price","setPrice","openError","setOpenError","openSuccess","setOpenSuccess","message","setMessage","open","setOpen","openModal","setOpenModal","cardDetails","setCardDetails","packages","setPackages","handleClose","event","reason","handlechange","target","name","value","replace","handleInputChange","handlePhoneChange","window","scrollTo","unique_carte","filter","item","i","ar","indexOf","obj","authenticate_key","combopackages","category_list","then","res","data","response","status","miscellaneous","Object","keys","length","package","forEach","element","package_details","sd","id","miscellaneous_details","insert","str","index","substr","GetCardType","number","re","electron","maestro","dankort","interpayment","unionpay","visa","mastercard","amex","diners","discover","jcb","key","test","onSubmit","values","undefined","cvc","expiry","date","parts","split","agent_id","state","user","agentId","street_address","address","city","zipcode","zip","notes","combocategories","categories","packageid","combopackageid","miscellaneousids","parent_category","cc_month","cc_year","card_no","join","card_holder","cvv_no","amount","bed_room","bath_room","square_footage","mls","caption","description","year_built","interior_area","first_choice","second_choice","third_choice","first_time","second_time","third_time","brokerid","broker_id","removeItem","location","href","catch","err","saveForLater","comboparent_category","push","cancelOrder","height","width","padding","display","handleSubmit","form","submitting","pristine","active","reset","margin","marginRight","marginLeft","cursor","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport projimg from \"../../../../images/proj.jpg\";\nimport Button from '@material-ui/core/Button';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport AddIcon from '@material-ui/icons/Add';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Form, Field } from 'react-final-form';\nimport {\n    formatCreditCardNumber,\n    formatCVC,\n    formatExpirationDate\n} from '../../../../components/Payment/cardUtils';\nimport Card from '../../../../components/Payment/Card';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Styles from '../../../../components/Payment/Styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { APIURL, APIPath } from \"../../../../CommonMethods/Fetch\";\nimport { postRecord } from \"../../../../CommonMethods/Save\";\nimport { AuthContext } from \"../../../../CommonMethods/Authentication\";\nconst APIGetOrderPackages = APIURL() + \"get-order-package\";\nconst APIGetMiscPackages = APIURL() + \"get-miscellaneous\";\nconst APISaveAppointment = APIURL() + \"appointment-save\";\nconst APISaveLater = APIURL() + \"save-for-later\";\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 9999,\n        color: '#fff',\n    },\n}));\nexport default function CheckoutTab(props) {\n    let history = useHistory();\n    const classes = useStyles();\n    const { setAppointment, setCheckoutTab, setPackageTab, setMiscPackageTab } = props;\n    const context = useContext(AuthContext);\n    const [allData, setAllData] = useState({});\n    const [miscData, setMiscData] = useState({});\n    const [propertyInfo, setPropertyInfo] = useState(JSON.parse(localStorage.getItem(\"Property_Info\")));\n    const [basicInfo, setBasicInfo] = useState(JSON.parse(localStorage.getItem(\"Basic_Info\")));\n    const [price, setPrice] = useState(0);\n    const [openError, setOpenError] = useState(false);\n    const [openSuccess, setOpenSuccess] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [open, setOpen] = useState(false);\n    const [openModal, setOpenModal] = useState(false);\n    const [cardDetails, setCardDetails] = useState({});\n    const [packages, setPackages] = useState([]);\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpenError(false);\n    };\n    const handlechange = event => {\n        const { name, value } = event.target;\n        setCardDetails({ ...cardDetails, [name]: value.replace(/[^a-z ]/gi, '') });\n    }\n    const handleInputChange = (event) => {\n        const { name, value } = event.target;\n        setCardDetails({ ...cardDetails, [name]: value });\n    }\n    const handlePhoneChange = event => {\n        const { name, value } = event.target;\n        setCardDetails({ ...cardDetails, [name]: value.replace(/\\D/g, '') });\n    }\n    useEffect(() => {\n        window.scrollTo(0, 400);\n    }, []);\n    useEffect(() => {\n        let unique_carte = JSON.parse(localStorage.getItem(\"Carte_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        const obj = { authenticate_key: \"abcd123XYZ\", combopackages: JSON.parse(localStorage.getItem(\"Combo_Package\")), category_list: unique_carte };\n        postRecord(APIGetOrderPackages, obj)\n            .then(res => {\n                if (res.data[0].response.status === \"success\") {\n                    setAllData(res.data[0].response.data);\n                    // res.data[0].response.data.package.forEach(res => {\n                    //     setPackages([...packages, res.package_details])\n                    // })\n                }\n            });\n    }, []);\n    useEffect(() => {\n        const obj = { authenticate_key: \"abcd123XYZ\" };\n        postRecord(APIGetMiscPackages, obj)\n            .then(res => {\n                if (res.data[0].response.status === \"success\") {\n                    setMiscData(res.data[0].response.data.miscellaneous);\n                }\n            });\n    }, []);\n    // console.log(allData);\n    // console.log(packages);\n    useEffect(() => {\n        var price = 0;\n        if (Object.keys(allData).length > 0) {\n            allData.package.forEach(element => {\n                element.package_details.forEach(res => {\n                    JSON.parse(localStorage.getItem(\"Sub_Package\")).forEach(sd => {\n                        if (res.id === sd) {\n                            price += res.price;\n                        }\n                    });\n                });\n            });\n        }\n        if (Object.keys(miscData).length > 0) {\n            miscData.miscellaneous_details.forEach(element => {\n                JSON.parse(localStorage.getItem(\"Misc_Package\")).forEach(res => {\n                    if (element.id === res) {\n                        price += element.price;\n                    }\n                });\n            });\n        }\n        setPrice(price);\n    }, [allData, miscData]);\n    function insert(str, index, value) {\n        return str.substr(0, index) + value + str.substr(index);\n    }\n    function GetCardType(number) {\n        var re = {\n            electron: /^(4026|417500|4405|4508|4844|4913|4917)\\d+$/,\n            maestro: /^(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)\\d+$/,\n            dankort: /^(5019)\\d+$/,\n            interpayment: /^(636)\\d+$/,\n            unionpay: /^(62|88)\\d+$/,\n            visa: /^4[0-9]{12}(?:[0-9]{3})?$/,\n            mastercard: /^5[1-5][0-9]{14}$/,\n            amex: /^3[47][0-9]{13}$/,\n            diners: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,\n            discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/,\n            jcb: /^(?:2131|1800|35\\d{3})\\d{11}$/\n        }\n        for (var key in re) {\n            if (re[key].test(number)) {\n                return key\n            }\n        }\n    }\n    const onSubmit = async values => {\n\n        if (values.number === undefined) {\n            setMessage(\"Please enter card number\");\n            setOpenError(true);\n        }\n        else if (values.name === undefined) {\n            setMessage(\"Please enter Full name\");\n            setOpenError(true);\n        }\n        else if (values.cvc === undefined) {\n            setMessage(\"Please enter CVV\");\n            setOpenError(true);\n        }\n        else if (values.expiry === undefined) {\n            setMessage(\"Please enter Expiry date\");\n            setOpenError(true);\n        }\n        else {\n            setOpenModal(false);\n            setOpen(true);\n            var date = values.expiry;\n            var parts = date.split('/');\n            values.authenticate_key = \"abcd123XYZ\";\n            values.agent_id = JSON.parse(context.state.user).agentId;\n            values.street_address = basicInfo.address;\n            values.city = basicInfo.city;\n            values.zipcode = basicInfo.zip;\n            values.notes = basicInfo.notes;\n            values.combocategories = JSON.parse(localStorage.getItem(\"Combo_Package\"));\n            values.categories = JSON.parse(localStorage.getItem(\"Carte_Package\"));\n            values.packageid = JSON.parse(localStorage.getItem(\"Sub_Package\"));\n            values.combopackageid = JSON.parse(localStorage.getItem(\"Combo_Sub_Package\"));\n            values.miscellaneousids = JSON.parse(localStorage.getItem(\"Misc_Package\"));\n            values.parent_category = JSON.parse(localStorage.getItem(\"Carte_Package\"));\n            values.cc_month = parts[0];\n            values.cc_year = insert(parts[1], 0, \"20\");\n            // values.card_type = GetCardType(parseInt(values.number.split(\" \").join('')));\n            values.card_no = values.number.split(\" \").join('');\n            values.card_holder = values.name;\n            values.cvv_no = values.cvc;\n            values.amount = price;\n            values.bed_room = propertyInfo.bed_room;\n            values.bath_room = propertyInfo.bath_room;\n            values.square_footage = propertyInfo.square_footage;\n            values.mls = propertyInfo.mls;\n            values.caption = propertyInfo.caption;\n            values.description = propertyInfo.description;\n            values.year_built = propertyInfo.year_built;\n            values.state = basicInfo.state;\n            values.interior_area = basicInfo.interior_area;\n            values.first_choice = propertyInfo.first_choice;\n            values.second_choice = propertyInfo.second_choice;\n            values.third_choice = propertyInfo.third_choice;\n            values.first_time = propertyInfo.first_time;\n            values.second_time = propertyInfo.second_time;\n            values.third_time = propertyInfo.third_time;\n            values.brokerid = basicInfo.broker_id;\n            postRecord(APISaveAppointment, values)\n                .then(res => {\n                    setOpen(false);\n                    if (res.data[0].response.status === \"success\") {\n                        setMessage(res.data[0].response.message);\n                        setOpenSuccess(true);\n                        localStorage.removeItem(\"Combo_Package\");\n                        localStorage.removeItem(\"Carte_Package\");\n                        localStorage.removeItem(\"Sub_Package\");\n                        localStorage.removeItem(\"Combo_Sub_Package\");\n                        localStorage.removeItem(\"Misc_Package\");\n                        localStorage.removeItem(\"Property_Info\");\n                        localStorage.removeItem(\"Basic_Info\");\n                        window.location.href = APIPath() + \"agent-order-list\";\n                        // history.push(APIPath() + \"agent-order-list\");\n                    }\n                    else {\n                        setMessage(res.data[0].response.message);\n                        setOpenError(true);\n                    }\n\n                })\n                .catch((err) => {\n                    setOpen(false);\n                    setMessage(\"Error Occured\");\n                    setOpenError(true);\n                });\n        }\n    }\n    const saveForLater = () => {\n        const values = {};\n        values.authenticate_key = \"abcd123XYZ\";\n        values.agent_id = JSON.parse(context.state.user).agentId;\n        values.street_address = basicInfo.address;\n        values.city = basicInfo.city;\n        values.zipcode = basicInfo.zip;\n        values.notes = basicInfo.notes;\n        values.combocategories = JSON.parse(localStorage.getItem(\"Combo_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.categories = JSON.parse(localStorage.getItem(\"Carte_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.packageid = JSON.parse(localStorage.getItem(\"Sub_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.combopackageid = JSON.parse(localStorage.getItem(\"Combo_Sub_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.miscellaneousids = JSON.parse(localStorage.getItem(\"Misc_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.parent_category = JSON.parse(localStorage.getItem(\"Carte_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.comboparent_category = JSON.parse(localStorage.getItem(\"Combo_Package\")).filter((item, i, ar) => ar.indexOf(item) === i);\n        values.amount = price;\n        values.bed_room = propertyInfo.bed_room;\n        values.bath_room = propertyInfo.bath_room;\n        values.square_footage = propertyInfo.square_footage;\n        values.caption = propertyInfo.caption;\n        values.description = propertyInfo.description;\n        values.year_built = propertyInfo.year_built;\n        values.mls = propertyInfo.mls;\n        values.state = basicInfo.state;\n        values.first_choice = propertyInfo.first_choice;\n        values.second_choice = propertyInfo.second_choice;\n        values.third_choice = propertyInfo.third_choice;\n        values.first_time = propertyInfo.first_time;\n        values.second_time = propertyInfo.second_time;\n        values.third_time = propertyInfo.third_time;\n        values.brokerid = basicInfo.broker_id;\n        postRecord(APISaveLater, values)\n            .then(res => {\n                if (res.data[0].response.status === \"success\") {\n                    setMessage(res.data[0].response.message);\n                    setOpenSuccess(true);\n                    localStorage.removeItem(\"Combo_Package\");\n                    localStorage.removeItem(\"Carte_Package\");\n                    localStorage.removeItem(\"Sub_Package\");\n                    localStorage.removeItem(\"Combo_Sub_Package\");\n                    localStorage.removeItem(\"Misc_Package\");\n                    localStorage.removeItem(\"Property_Info\");\n                    localStorage.removeItem(\"Basic_Info\");\n                    history.push(APIPath() + \"agent-pending-order-list\");\n                }\n                else {\n                    setMessage(res.data[0].response.message);\n                    setOpenError(true);\n                }\n            });\n    }\n    const cancelOrder = () => {\n        localStorage.removeItem(\"Combo_Package\");\n        localStorage.removeItem(\"Carte_Package\");\n        localStorage.removeItem(\"Sub_Package\");\n        localStorage.removeItem(\"Combo_Sub_Package\");\n        localStorage.removeItem(\"Misc_Package\");\n        localStorage.removeItem(\"Property_Info\");\n        localStorage.removeItem(\"Basic_Info\");\n        setAppointment(true);\n        setCheckoutTab(false);\n    }\n    return (\n        <div class=\"appointment_page_right\">\n            <div class=\"row\">\n                <div class=\"col-md-12\">\n                    <h3>Ckeckout</h3>\n                    <div class=\"step_progress\">\n                        <span>Step 4/4</span>\n                        <div class=\"progress\" style={{ height: \"20px\" }}>\n                            <div class=\"progress-bar\" role=\"progressbar\" style={{ width: \"100%\" }} aria-valuenow=\"33\" aria-valuemin=\"0\" aria-valuemax=\"100\">\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"Order_cont\">\n                <div class=\"row\">\n                    <table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"5\">\n                        <tbody>\n                            <tr>\n                                <td width=\"60%\">Order Total</td>\n                                <td width=\"40%\" align=\"right\"><strong>$ {price + \".00\"}</strong></td>\n                            </tr>\n                            <tr>\n                                <td>Estimated Tax</td>\n                                <td align=\"right\"><strong>$0.00</strong></td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"2\" height=\"5px\"></td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"2\" bgcolor=\"#dedede\" height=\"3px\" style={{ padding: \"0\" }}></td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"2\" height=\"5px\"></td>\n                            </tr>\n                            <tr>\n                                <td>Order total</td>\n                                <td align=\"right\"><strong>$ {price + \".00\"}</strong></td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"2\" height=\"15px\"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n\n                {/* <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <div class=\"panel-body paymentmethod_form\">\n                            <div class=\"form-group\">\n                                <label for=\"cardNumber\">CARD NUMBER</label>\n                                <div class=\"input-group\">\n                                    <input type=\"text\" class=\"form-control\" id=\"cc_num\" value={cardDetails.cc_num} onChange={handlePhoneChange} name=\"cc_num\" placeholder=\"Valid Card Number\" minLength={16} maxLength={18} />\n                                </div>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"cardNumber\">CARD HOLDER NAME</label>\n                                <div class=\"input-group\">\n                                    <input type=\"text\" class=\"form-control\" id=\"cc_name\" value={cardDetails.cc_name} onChange={handlechange} name=\"cc_name\" placeholder=\"Card Holder Name\" required=\"\" />\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\" col-lg-12\">\n                                    <div class=\"form-group\">\n                                        <label for=\"expityMonth\"> EXPIRY DATE</label>\n                                        <div class=\"row\">\n                                            <div class=\"col-xs-6 col-lg-6 pl-ziro\">\n                                                <input type=\"text\" class=\"form-control\" id=\"cc_month\" value={cardDetails.cc_month} onChange={handlePhoneChange} name=\"cc_month\" placeholder=\"MM\" maxLength={2} />\n                                            </div>\n                                            <div class=\"col-xs-6 col-lg-6 pl-ziro\">\n                                                <input type=\"text\" class=\"form-control\" id=\"cc_year\" value={cardDetails.cc_year} onChange={handlePhoneChange} name=\"cc_year\" placeholder=\"YYYY\" maxLength={4} />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"form-group\">\n                                <label for=\"cardNumber\">CVV</label>\n                                <div class=\"input-group\">\n                                    <input type=\"text\" class=\"form-control\" id=\"cvv\" value={cardDetails.cvv} onChange={handlePhoneChange} name=\"cvv\" placeholder=\"cvv\" maxLength={3} />\n                                </div>\n                            </div>\n                            <hr class=\"spacer10px\"></hr>\n                            <hr class=\"spacer30px\"></hr>\n                            <hr class=\"spacer30px\"></hr>\n\n                            <div class=\"row\">\n                            </div>\n\n                        </div>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <div class=\"checkout_pricebox\">\n                            <table width=\"100%\" cellspacing=\"5\" cellpadding=\"5\" border=\"0\">\n                                <tbody>\n                                    <tr>\n                                        <td width=\"60%\">Order Total</td>\n                                        <td width=\"40%\" align=\"right\"><strong>$ {price + \".00\"}</strong></td>\n                                    </tr>\n                                    <tr>\n                                        <td>Estimated Tax</td>\n                                        <td align=\"right\"><strong>$0.00</strong></td>\n                                    </tr>\n\n                                    <tr>\n                                        <td colspan=\"2\" height=\"5px\"></td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan=\"2\" style={{ padding: \"0\" }} height=\"3px\" bgcolor=\"#dedede\"></td>\n                                    </tr>\n                                    <tr>\n                                        <td colspan=\"2\" height=\"5px\"></td>\n                                    </tr>\n                                    <tr>\n                                        <td>Order total (1 item)</td>\n                                        <td align=\"right\"><strong>$ {price + \".00\"}</strong></td>\n                                    </tr>\n\n                                    <tr>\n                                        <td colspan=\"2\" height=\"15px\"></td>\n                                    </tr>\n\n                                    <tr>\n                                        <td colspan=\"2\" align=\"center\">\n                                            <div class=\"placeoder\">\n                                                <a onClick={onSubmit}>Place Your Order</a>\n                                                <a onClick={() => {\n                                                    setCheckoutTab(false);\n                                                    setPackageTab(true);\n                                                }}>Add/Update Package</a>\n                                            </div>\n                                        </td>\n                                    </tr>\n\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <div class=\"disclaimer_order4\"><h6>Disclaimer:</h6>\n                            <p>Your order will be reviewed\n                                confirmed by our amazing\n                                staff! If any changes are\n                                necessary, or we are not able to\n                                your requirements, your order\n                                promptly refunded.</p>\n                        </div>\n\n                    </div>\n                </div> */}\n\n\n\n                <div class=\"row\" style={{ display: \"grid\" }}>\n                    <Styles>\n                        <Form\n                            onSubmit={onSubmit}\n                            render={({\n                                handleSubmit,\n                                form,\n                                submitting,\n                                pristine,\n                                values,\n                                active\n                            }) => {\n                                return (\n                                    <form onSubmit={handleSubmit}>\n                                        <Card\n                                            number={values.number || ''}\n                                            name={values.name || ''}\n                                            expiry={values.expiry || ''}\n                                            cvv={values.cvc || ''}\n                                            focused={active}\n                                        />\n                                        <div>\n                                            <Field\n                                                name=\"number\"\n                                                component=\"input\"\n                                                type=\"text\"\n                                                pattern=\"[\\d| ]{16,22}\"\n                                                placeholder=\"Card Number\"\n                                                format={formatCreditCardNumber}\n                                            />\n                                        </div>\n                                        <div>\n                                            <Field\n                                                name=\"name\"\n                                                component=\"input\"\n                                                type=\"text\"\n                                                placeholder=\"Name\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <Field\n                                                name=\"expiry\"\n                                                component=\"input\"\n                                                type=\"text\"\n                                                pattern=\"\\d\\d/\\d\\d\"\n                                                placeholder=\"Expiration Date\"\n                                                format={formatExpirationDate}\n                                            />\n                                            <Field\n                                                style={{ width: \"50px\" }}\n                                                name=\"cvc\"\n                                                component=\"input\"\n                                                type=\"text\"\n                                                pattern=\"\\d{3,4}\"\n                                                placeholder=\"CVV\"\n                                                format={formatCVC}\n                                            />\n                                        </div>\n                                        <div className=\"buttons\">\n                                            <button type=\"submit\" disabled={submitting}>\n                                                Submit\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                onClick={form.reset}\n                                                disabled={submitting || pristine}\n                                            >\n                                                Reset\n                                            </button>\n                                        </div>\n                                    </form>\n                                )\n                            }}\n                        />\n                    </Styles>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-12 mx-auto text-center\">\n                        <a onClick={() => cancelOrder()} class=\"let_start\" style={{ margin: \"0px 20px 0px 0px\" }}><i style={{ marginRight: \"10px\", marginLeft: \"0px\" }} class=\"far fa-times\"></i>Cancel </a>\n                        <a onClick={() => {\n                            saveForLater();\n                            // setPackageTab(true);\n                        }} style={{ cursor: \"pointer\" }} class=\"let_start_new\">Save For Later <i style={{ marginRight: \"10px\", marginLeft: \"0px\" }} class=\"far fa-save\"></i></a>\n                    </div>\n                </div>\n                <Backdrop className={classes.backdrop} open={open}>\n                    <CircularProgress color=\"inherit\" />\n                </Backdrop>\n                <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openSuccess} autoHideDuration={3000} onClose={handleClose}>\n                    <Alert onClose={handleClose} severity=\"success\">\n                        {message}\n                    </Alert>\n                </Snackbar>\n                <Snackbar anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }} open={openError} autoHideDuration={3000} onClose={handleClose}>\n                    <Alert onClose={handleClose} severity=\"error\">\n                        {message}\n                    </Alert>\n                </Snackbar>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}